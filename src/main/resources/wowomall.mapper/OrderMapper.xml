<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.xmu.wowoto.wowomall.mapper.OrderMapper">

<select id="getOrdersByStatusCode" parameterType="java.util.List" resultType="WowoOrder">
    select *
    from wowomall_order
    where user_id=#{userId} and is_deleted=0
    <if test="statusCode!=0">
        and status=#{statusCode}
    </if>
    order by #{sort} #{order}
    limit #{page},#{limit}
</select>

<select id="getOrderByOrderId" parameterType="java.util.List" resultType="WowoOrder">
        select *
        from wowomall_order
        where user_id=#{userId} and is_deleted=0 and id=#{orderId}
    </select>


<update id="updateOrderStatusById" parameterType="java.util.List">
        UPDATE wowomall_order SET
         status=#{statusCode}
        WHERE
         id=#{orderId}
</update>
</mapper>